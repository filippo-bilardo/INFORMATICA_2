<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Framework e librerie Canvas</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 5px;
        }
        h1, h2, h3 {
            color: #333;
        }
        h1 {
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        canvas {
            border: 1px solid #ddd;
            margin: 15px 0;
            background-color: white;
            display: block;
        }
        .section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .library-card {
            background-color: #f8f8f8;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        .library-card h3 {
            margin-top: 0;
            color: #4CAF50;
        }
        .library-card p {
            margin-bottom: 10px;
        }
        .library-card .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }
        .library-card .tag {
            background-color: #e7f3fe;
            color: #0366d6;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
        }
        .demo-container {
            margin: 20px 0;
        }
        .code-container {
            background-color: #f8f8f8;
            border-left: 4px solid #4CAF50;
            padding: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
        }
        .note {
            background-color: #e7f3fe;
            border-left: 4px solid #2196F3;
            padding: 10px;
            margin: 15px 0;
        }
        .controls {
            margin: 15px 0;
            padding: 10px;
            background-color: #f8f8f8;
            border-radius: 5px;
        }
        button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 8px 16px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Framework e librerie Canvas</h1>
        <p>
            Sebbene l'API Canvas nativa sia potente, esistono numerosi framework e librerie che semplificano
            lo sviluppo di applicazioni Canvas complesse. Queste librerie offrono funzionalità aggiuntive,
            astrazioni di alto livello e ottimizzazioni delle prestazioni.
        </p>

        <div class="section">
            <h2>1. Panoramica delle librerie Canvas popolari</h2>
            
            <div class="library-card">
                <h3>Fabric.js</h3>
                <p>
                    Fabric.js è una potente libreria JavaScript che facilita l'uso dell'elemento HTML5 Canvas.
                    Fornisce un modello di oggetti interattivo e rende semplice la creazione e la manipolazione di
                    oggetti sul canvas.
                </p>
                <p><strong>Sito web:</strong> <a href="http://fabricjs.com/" target="_blank">http://fabricjs.com/</a></p>
                <div class="tags">
                    <span class="tag">Interattività</span>
                    <span class="tag">Manipolazione oggetti</span>
                    <span class="tag">SVG import/export</span>
                    <span class="tag">Animazioni</span>
                </div>
            </div>
            
            <div class="library-card">
                <h3>Paper.js</h3>
                <p>
                    Paper.js è un framework open source per la grafica vettoriale scriptabile che funziona su HTML5 Canvas.
                    Offre un modello di scena grafica pulito e semplifica la creazione di percorsi complessi.
                </p>
                <p><strong>Sito web:</strong> <a href="http://paperjs.org/" target="_blank">http://paperjs.org/</a></p>
                <div class="tags">
                    <span class="tag">Grafica vettoriale</span>
                    <span class="tag">Gestione percorsi</span>
                    <span class="tag">Animazioni</span>
                    <span class="tag">Interattività</span>
                </div>
            </div>
            
            <div class="library-card">
                <h3>p5.js</h3>
                <p>
                    p5.js è una libreria JavaScript che rende l'arte e la programmazione visiva accessibile a artisti,
                    designer, educatori e principianti. È un reinterpretazione di Processing per il web moderno.
                </p>
                <p><strong>Sito web:</strong> <a href="https://p5js.org/" target="_blank">https://p5js.org/</a></p>
                <div class="tags">
                    <span class="tag">Arte generativa</span>
                    <span class="tag">Educazione</span>
                    <span class="tag">Multimedia</span>
                    <span class="tag">Facile da usare</span>
                </div>
            </div>
            
            <div class="library-card">
                <h3>Two.js</h3>
                <p>
                    Two.js è una libreria di disegno a due dimensioni orientata al rendering vettoriale moderno.
                    È renderer-agnostic, permettendo lo stesso API per disegnare in diversi contesti: SVG, Canvas e WebGL.
                </p>
                <p><strong>Sito web:</strong> <a href="https://two.js.org/" target="_blank">https://two.js.org/</a></p>
                <div class="tags">
                    <span class="tag">Multi-renderer</span>
                    <span class="tag">Animazioni</span>
                    <span class="tag">Grafica vettoriale</span>
                </div>
            </div>
            
            <div class="library-card">
                <h3>PixiJS</h3>
                <p>
                    PixiJS è un renderer 2D veloce che utilizza WebGL quando disponibile, con fallback su Canvas.
                    È particolarmente adatto per giochi e applicazioni interattive ad alte prestazioni.
                </p>
                <p><strong>Sito web:</strong> <a href="https://pixijs.com/" target="_blank">https://pixijs.com/</a></p>
                <div class="tags">
                    <span class="tag">WebGL</span>
                    <span class="tag">Alte prestazioni</span>
                    <span class="tag">Giochi</span>
                    <span class="tag">Sprite</span>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>2. Demo di Fabric.js</h2>
            <p>
                Fabric.js semplifica la creazione di applicazioni Canvas interattive. Ecco un esempio di come
                creare oggetti interattivi che possono essere trascinati, ridimensionati e ruotati:
            </p>
            
            <div class="demo-container">
                <canvas id="fabricCanvas" width="500" height="300"></canvas>
                
                <div class="controls">
                    <button id="addRect">Aggiungi Rettangolo</button>
                    <button id="addCircle">Aggiungi Cerchio</button>
                    <button id="addText">Aggiungi Testo</button>
                    <button id="clearCanvas">Pulisci Canvas</button>
                </div>
            </div>
            
            <div class="code-container">
                <pre><code>// Inizializza Fabric.js canvas
const canvas = new fabric.Canvas('fabricCanvas');

// Aggiungi un rettangolo
const rect = new fabric.Rect({
    left: 100,
    top: 100,
    fill: 'red',
    width: 100,
    height: 80,
    angle: 15
});
canvas.add(rect);

// Aggiungi un cerchio
const circle = new fabric.Circle({
    left: 250,
    top: 100,
    fill: 'green',
    radius: 50
});
canvas.add(circle);

// Aggiungi testo
const text = new fabric.Text('Hello Fabric.js', {
    left: 150,
    top: 200,
    fontFamily: 'Arial',
    fontSize: 24,
    fill: 'blue'
});
canvas.add(text);</code></pre>
            </div>
        </div>

        <div class="section">
            <h2>3. Demo di p5.js</h2>
            <p>
                p5.js è eccellente per la creazione di arte generativa e visualizzazioni interattive.
                Ecco un esempio di una semplice animazione:
            </p>
            
            <div class="demo-container">
                <div id="p5Container"></div>
                
                <div class="controls">
                    <button id="startP5">Avvia</button>
                    <button id="stopP5">Ferma</button>
                </div>
            </div>
            
            <div class="code-container">
                <pre><code>// Configurazione p5.js
function setup() {
    createCanvas(500, 300);
    colorMode(HSB, 360, 100, 100);
    noStroke();
}

// Funzione di disegno che viene eseguita continuamente
function draw() {
    background(220, 50, 80);
    
    // Disegna cerchi colorati che seguono il mouse
    for (let i = 0; i < 10; i++) {
        fill((frameCount + i * 36) % 360, 80, 90);
        let size = 50 - i * 5;
        ellipse(
            mouseX + sin(frameCount * 0.05 + i) * 30,
            mouseY + cos(frameCount * 0.05 + i) * 30,
            size, size
        );
    }
}</code></pre>
            </div>
        </div>

        <div class="section">
            <h2>4. Confronto tra librerie</h2>
            <p>
                La scelta della libreria dipende dalle esigenze specifiche del tuo progetto:
            </p>
            
            <table border="1" style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                <tr style="background-color: #f0f0f0;">
                    <th style="padding: 10px;">Libreria</th>
                    <th style="padding: 10px;">Punti di forza</th>
                    <th style="padding: 10px;">Casi d'uso ideali</th>
                </tr>
                <tr>
                    <td style="padding: 10px;">Fabric.js</td>
                    <td style="padding: 10px;">
                        - Interattività avanzata<br>
                        - Supporto SVG<br>
                        - Serializzazione JSON
                    </td>
                    <td style="padding: 10px;">
                        - Editor di immagini<br>
                        - Applicazioni di disegno<br>
                        - Interfacce drag-and-drop
                    </td>
                </tr>
                <tr>
                    <td style="padding: 10px;">Paper.js</td>
                    <td style="padding: 10px;">
                        - Gestione avanzata dei percorsi<br>
                        - Modello a oggetti pulito<br>
                        - Operazioni booleane sui percorsi
                    </td>
                    <td style="padding: 10px;">
                        - Illustrazioni vettoriali<br>
                        - Manipolazione di forme complesse<br>
                        - Animazioni basate su percorsi
                    </td>
                </tr>
                <tr>
                    <td style="padding: 10px;">p5.js</td>
                    <td style="padding: 10px;">
                        - Facile da imparare<br>
                        - Ottimo per principianti<br>
                        - Ampia comunità
                    </td>
                    <td style="padding: 10px;">
                        - Arte generativa<br>
                        - Progetti educativi<br>
                        - Visualizzazioni di dati semplici
                    </td>
                </tr>
                <tr>
                    <td style="padding: 10px;">PixiJS</td>
                    <td style="padding: 10px;">
                        - Prestazioni elevate<br>
                        - Ottimizzato per WebGL<br>
                        - Gestione sprite
                    </td>
                    <td style="padding: 10px;">
                        - Giochi 2D<br>
                        - Applicazioni con molti oggetti<br>
                        - Animazioni complesse
                    </td>
                </tr>
            </table>
        </div>

        <div class="section">
            <h2>5. Integrazione delle librerie</h2>
            <p>
                Ecco come integrare queste librerie nei tuoi progetti:
            </p>
            
            <div class="code-container">
                <pre><code><!-- Fabric.js -->
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"&gt;&lt;/script&gt;

<!-- Paper.js -->
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.17/paper-full.min.js"&gt;&lt;/script&gt;

<!-- p5.js -->
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"&gt;&lt;/script&gt;

<!-- PixiJS -->
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"&gt;&lt;/script&gt;</code></pre>
            </div>
            
            <div class="note">
                <p><strong>Nota:</strong> È consigliabile utilizzare una sola libreria Canvas alla volta in un progetto, a meno che non si stia creando un'applicazione modulare con canvas separati.</p>
            </div>
        </div>
    </div>

    <!-- Carica le librerie per le demo -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
    
    <script>
        // Demo Fabric.js
        document.addEventListener('DOMContentLoaded', function() {
            // Inizializza Fabric.js canvas
            const fabricCanvas = new fabric.Canvas('fabricCanvas');
            
            // Funzione per aggiungere un rettangolo
            document.getElementById('addRect').addEventListener('click', function() {
                const rect = new fabric.Rect({
                    left: 100 + Math.random() * 100,
                    top: 100 + Math.random() * 100,
                    fill: `rgb(${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)})`,
                    width: 60 + Math.random() * 60,
                    height: 60 + Math.random() * 60,
                    angle: Math.random() * 45
                });
                fabricCanvas.add(rect);
                fabricCanvas.setActiveObject(rect);
            });
            
            // Funzione per aggiungere un cerchio
            document.getElementById('addCircle').addEventListener('click', function() {
                const circle = new fabric.Circle({
                    left: 100 + Math.random() * 200,
                    top: 100 + Math.random() * 100,
                    fill: `rgb(${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)})`,
                    radius: 30 + Math.random() * 30
                });
                fabricCanvas.add(circle);
                fabricCanvas.setActiveObject(circle);
            });
            
            // Funzione per aggiungere testo
            document.getElementById('addText').addEventListener('click', function() {
                const text = new fabric.Text('Fabric.js', {
                    left: 100 + Math.random() * 100,
                    top: 100 + Math.random() * 100,
                    fontFamily: 'Arial',
                    fontSize: 20 + Math.floor(Math.random() * 20),
                    fill: `rgb(${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)})`
                });
                fabricCanvas.add(text);
                fabricCanvas.setActiveObject(text);
            });
            
            // Funzione per pulire il canvas
            document.getElementById('clearCanvas').addEventListener('click', function() {
                fabricCanvas.clear();
            });
            
            // Aggiungi alcuni oggetti iniziali
            const rect = new fabric.Rect({
                left: 100,
                top: 100,
                fill: 'red',
                width: 100,
                height: 80,
                angle: 15
            });
            fabricCanvas.add(rect);
            
            const circle = new fabric.Circle({
                left: 250,
                top: 100,
                fill: 'green',
                radius: 50
            });
            fabricCanvas.add(circle);
            
            const text = new fabric.Text('Fabric.js', {
                left: 150,
                top: 200,
                fontFamily: 'Arial',
                fontSize: 24,
                fill: 'blue'
            });
            fabricCanvas.add(text);
        });
        
        // Demo p5.js
        let p5Instance = null;
        
        document.getElementById('startP5').addEventListener('click', function() {
            if (!p5Instance) {
                p5Instance = new p5(function(p) {
                    p.setup = function() {
                        p.createCanvas(500, 300);
                        p.colorMode(p.HSB, 360, 100, 100);
                        p.noStroke();
                    };
                    
                    p.draw = function() {
                        p.background(220, 50, 80);
                        
                        // Simula la posizione del mouse se non è sul canvas
                        let mouseXPos = p.mouseX;
                        let mouseYPos = p.mouseY;
                        
                        if (mouseXPos <= 0 || mouseXPos >= p.width || mouseYPos <= 0 || mouseYPos >= p.height) {
                            mouseXPos = p.width / 2 + Math.sin(p.frameCount * 0.02) * 100;
                            mouseYPos = p.height / 2 + Math.cos(p.frameCount * 0.02) * 50;
                        }
                        
                        // Disegna cerchi colorati
                        for (let i = 0; i < 10; i++) {
                            p.fill((p.frameCount + i * 36) % 360, 80, 90);
                            let size = 50 - i * 5;
                            p.ellipse(
                                mouseXPos + Math.sin(p.frameCount * 0.05 + i) * 30,
                                mouseYPos + Math.cos(p.frameCount * 0.05 + i) * 30,
                                size, size
                            );
                        }
                    };
                }, 'p5Container');
            }
        });
        
        document.getElementById('stopP5').addEventListener('click', function() {
            if (p5Instance) {
                p5Instance.remove();
                p5Instance = null;
                document.getElementById('p5Container').innerHTML = '';
            }
        });
    </script>
</body>
</html>